{"version":3,"sources":["__integration_tests__/Simulator-test.ts"],"names":["describe","skip","it","jest","setTimeout","Simulator","_isSimulatorInstalledAsync","console","warn","_isSimulatorRunningAsync","_quitSimulatorAsync","_openAndBootSimulatorAsync","Error","_isExpoAppInstalledOnCurrentBootedSimulatorAsync","_uninstallExpoAppFromSimulatorAsync","_installExpoOnSimulatorAsync","_openUrlInSimulatorAsync"],"mappings":";;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAEAA,QAAQ,CAACC,IAAT,CAAc,WAAd,EAA2B,MAAM;AAC/BC,EAAAA,EAAE,CAAC,6BAAD,EAAgC,YAAY;AAC5C;AACAC,IAAAA,IAAI,CAACC,UAAL,CAAgB,KAAhB,EAF4C,CAI5C;;AACA,QAAI,EAAE,MAAMC,SAAS,GAACC,0BAAV,EAAR,CAAJ,EAAqD;AACnD,aAAOC,OAAO,CAACC,IAAR,CAAa,kEAAb,CAAP;AACD,KAP2C,CAS5C;;;AACA,QAAI,MAAMH,SAAS,GAACI,wBAAV,EAAV,EAAgD;AAC9C,YAAMJ,SAAS,GAACK,mBAAV,EAAN;AACD;;AAED,UAAM,2BAAW,IAAX,CAAN,CAd4C,CAcpB;AAExB;;AACA,UAAML,SAAS,GAACM,0BAAV,EAAN;AAEA,UAAM,2BAAW,IAAX,CAAN,CAnB4C,CAmBpB;AAExB;;AACA,QAAI,EAAE,MAAMN,SAAS,GAACI,wBAAV,EAAR,CAAJ,EAAmD;AACjD,YAAM,IAAIG,KAAJ,CACJ,oFADI,CAAN;AAGD,KA1B2C,CA4B5C;;;AACA,QAAI,MAAMP,SAAS,GAACQ,gDAAV,EAAV,EAAwE;AACtE,YAAMR,SAAS,GAACS,mCAAV,EAAN;AACD;;AACD,QAAI,MAAMT,SAAS,GAACQ,gDAAV,EAAV,EAAwE;AACtE,YAAM,IAAID,KAAJ,CAAU,6DAAV,CAAN;AACD;;AACD,UAAMP,SAAS,GAACU,4BAAV,EAAN;;AACA,QAAI,EAAE,MAAMV,SAAS,GAACQ,gDAAV,EAAR,CAAJ,EAA2E;AACzE,YAAM,IAAID,KAAJ,CAAU,6DAAV,CAAN;AACD,KAtC2C,CAwC5C;;;AACA,UAAMP,SAAS,GAACW,wBAAV,CAAmC,qCAAnC,CAAN;AAEA,UAAM,2BAAW,IAAX,CAAN,CA3C4C,CA2CpB;;AAExB,UAAMX,SAAS,GAACS,mCAAV,EAAN;;AACA,QAAI,MAAMT,SAAS,GAACQ,gDAAV,EAAV,EAAwE;AACtE,YAAM,IAAID,KAAJ,CAAU,iEAAV,CAAN;AACD;;AAED,UAAMP,SAAS,GAACK,mBAAV,EAAN;;AACA,QAAI,MAAML,SAAS,GAACI,wBAAV,EAAV,EAAgD;AAC9C,YAAM,IAAIG,KAAJ,CAAU,0CAAV,CAAN;AACD;AACF,GAtDC,CAAF;AAuDD,CAxDD","sourcesContent":["import delayAsync from 'delay-async';\n\nimport * as Simulator from '../Simulator';\n\ndescribe.skip('simulator', () => {\n  it('opens and loads url in expo', async () => {\n    // This tests depends on the simulator, and could take some time to boot\n    jest.setTimeout(60000);\n\n    // Determine if we can run this test or not, if simulator isn't available warn and stop\n    if (!(await Simulator._isSimulatorInstalledAsync())) {\n      return console.warn(\"Simulator isn't installed on this computer; can't run this test.\");\n    }\n\n    // Quit the simulator to start the test\n    if (await Simulator._isSimulatorRunningAsync()) {\n      await Simulator._quitSimulatorAsync();\n    }\n\n    await delayAsync(1000); // 1s\n\n    // Open the simulator\n    await Simulator._openAndBootSimulatorAsync();\n\n    await delayAsync(9000); // 9s\n\n    // If its not running now, we can't test\n    if (!(await Simulator._isSimulatorRunningAsync())) {\n      throw new Error(\n        \"Simulator should be running after being opened, but we're detecting that it isn't.\"\n      );\n    }\n\n    // Use a fresh Expo install for this test\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      await Simulator._uninstallExpoAppFromSimulatorAsync();\n    }\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Expo app shouldn't be installed on this simulator but it is\");\n    }\n    await Simulator._installExpoOnSimulatorAsync();\n    if (!(await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync())) {\n      throw new Error(\"Expo app should be installed on this simulator but it isn't\");\n    }\n\n    // Try opening an Expo project, even when it doesn't exists Expo should be open\n    await Simulator._openUrlInSimulatorAsync('exp://exp.host/@exponent/fluxpybird');\n\n    await delayAsync(6000); // 6s\n\n    await Simulator._uninstallExpoAppFromSimulatorAsync();\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Expo app shouldn't be installed on this simulator but it is (2)\");\n    }\n\n    await Simulator._quitSimulatorAsync();\n    if (await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator shouldn't be running but it is\");\n    }\n  });\n});\n"],"file":"../../__integration_tests__/Simulator-test.js","sourceRoot":"/@expo/xdl@57.9.33/src"}